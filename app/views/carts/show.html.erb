
<section class="h-100 h-custom" style="background-color:#f6f6f7;">
  <div class="container py-5 h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col">
        <div class="card">
          <div class="card-body p-4">
            <div class="row">
            
              <div class="col-lg-8">
                <h5 class="mb-3">
                <%= link_to '<i class="bi bi-chevron-left"></i>'.html_safe, products_path, :class => "btn btn-outline-secondary"  %>
  
                </h5>
                <hr>
                <div class="d-flex justify-content-between align-items-center mb-4">
                  <div>
                    <p class="mb-1">Shopping cart</p>
                    <p class="mb-0">You have <%= @cart.cart_items.count%> items in your cart</p>
                  </div>
                  <div>
                    <p class="mb-1">price </p>
                  </div>
                </div>

                <% @cart.cart_items.each do |item|%>
                
                <div class="card mb-3">
                  <div class="card-body">
                    <div class="d-flex justify-content-between">

                    <div class="d-flex flex-row align-items-center">
                        <div>
                           <%=image_tag item.product.image_url, style: 'height:120px; width:220px;' %>
                        </div>
                        <div class="ms-3">
                          <h5><%= item.product.title%></h5>
                          <p class="small mb-0">.</p>
                        </div>
                    </div>
                      <div class="d-flex flex-row align-items-center">
                      <div style="width: 35px;"> 
                         <%= button_to "-", cart_reduce_path(:id => item), class:"btn  btn-sm", style:"background-color: #008ecc;"%>
                      </div>
                      <div style="width: 25px;">
                        <h5 class="fw-normal mb-0"><%= item.quantity%></h5>
                      </div>
                      <div style="width: 50px;">
                       
                         <%= button_to "+", carts_path(:product_id => item.product.id), class:"btn btn-sm", style:"background-color: #008ecc;"%>
                      </div>
                        
                      
                        <div style="width: 80px;">
                          <h5 class="mb-0"><%=item.product.price%></h5>
                        </div>
                        
                       <%= button_to "remove", cart_path(item), method: :delete, class:"btn btn-outline-danger"%>
                        
                      </div>
                    
                    </div>
                  </div>
                </div>
                <%end%>
              </div>
            
              <div class="col-lg-4">

                <div class="card  text-dark rounded-3">
                  <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                      <h5 class="mb-0">Card details</h5>
                      
                    </div>

                    <div class="mt-4">
                      <div class="d-flex justify-content-between">
                      <p class="mb-2">Subtotal</p>
                      <p class="mb-2"><%= @cart.total_price%></p>
                    </div>

                       <div class="d-flex justify-content-between">
                      <p class="mb-2">free Shipping</p>
                      <p class="mb-2">0</p>
                    </div>
                    <div class="d-flex justify-content-between mb-4">
                      <p class="mb-2">Total(Incl. taxes)</p>
                      <p class="mb-2">Rs <%= @cart.total_price%></p>
                    </div>

                  
                  <%= link_to "checkout", user_path, class: "btn", style:"background-color: #008ecc;"%>
                  </div>
                </div>
                

              </div>

            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
  
</section>


